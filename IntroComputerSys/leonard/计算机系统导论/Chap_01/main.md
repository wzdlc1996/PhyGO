# 导论

> 在异构计算时代, 程序员必须对算法和硬件模型融会贯通, 才能写出高质量代码. 因此, 未来的程序员还必须懂硬件. 
> David Patterson (2017 Turing Prize)

高水平的标志: 全栈能力, 软硬兼施. 从程序性开发能力转化为 **系统性设计能力**

为了应对各种复杂应用, 开发人员必须了解系统平台的底层结构. 并熟练掌握相关的技术和工具. (计算机学科的从业者和其他领域的不同)

在系统层面进行综合设计和权衡, 达成全局的优化.

## 课程起源和规划

最初由卡耐基梅隆大学计算机科学学院创立. 特点: 重视实践, 强调对系统的理解. 2012年北京大学联合其进行引入. 特点: 影响面广, 关注度高. 

实验题系统: 两周一次, 根据性能/时间/提交次数评分.

## 关注的问题和目标

1.  本课程关注的问题
    -  计算机抽象概念与实际计算机系统之间的差异
    -  计算机抽象概念在实际计算机系统上的实现方式

2.  本课程的目标
    -  为计算机专业初学者建立计算机系统的整体知识框架
    -  训练良好的变成习惯, 更高效编程能力, 提高程序性能, 可移植性和健壮性.
    -  为后续学习编译, 网络, os, 计算机体系结构等课程奠定基础.


## 两个概念

1.  **Abstraction**: 在不同层面上对实际实现的抽象(隐藏掉实际实现中的复杂细节). (csapp, p25)
2.  **Indirection**: 计算机科学领域没有不能通过加一层 indirection 来解决的问题 (David Wheeler)

## 本课程的视角

本课程是从 *编程者的角度* 出发, 描述计算机系统如何执行程序, 储存信息和通信. 

## 一些问题

1.  整型不是整数, 浮点型不是实数. 

    -  `x * x >= 0` 并不一定总是 `true` . 如整形上界溢出
    -  `a + (b + c) == (a + b) + c` 对浮点型可能不成立. 

    计算机中的算术不同于数学中的算术. 来自有限精度, 有限大小. 

2.  More than asymptotic complexity

    当输入规模较小时, 渐进复杂度是不精确的. 
    当输入规模较大时, 计算机数据访问的层次结构会造成影响.

    -  不同操作的不同代价. (see csapp, chap. 4)
    -  并行. 算法能否并行化(没有依赖), 并行化算法的实际复杂度 (see csapp, chap. 3, 4)
    -  超越单线程. 单线程提升十分缓慢, 线程级并行是十分重要的. (see csapp, chap. 25)
    -  locality. 遍历矩阵copy, 行主序和列主序的性能显著不同. see csapp, chap. 6
    -  编译优化和局限. (see csapp, chap. 5). 

3.  如何编写正确的程序

    -  未定义行为. C 中的 long 是32位还是64
    -  类型安全. C 的类型检查很弱. 
    -  链接相关的bug. (see csapp, chap. 7): 链接时出现同名变量
    -  内存安全. 数组越界
    -  线程安全(see csapp, chap. 12). 线程互斥和同步.

4.  程序员需要从操作系统获取哪些服务

    **图灵完全** 是不够的. 
    -  如何隔离两个正在运行的程序. 
    -  如何提供独立的地址空间
    -  如何获得一个给i/o devices一个简单好用的接口.
    -  see csapp: Process (chap 8), Thread (chap 12), Address space (chap 9), File (chap 10)

5.  计算机有哪些主要功能

    Computing, Storage, Networking


