# 音乐与人工智能

## 随机作曲

音乐是由高低, 长短不同的乐符构成. 使用有限多的音符, 作曲家们可以创作出似乎是无限多的音乐作品.

Illiac Suite for String Quartet

### 随机过程

从概率论的角度, 可以把音乐看作一个随机过程. 

Markov性质:

$$
\mathbb{P}(X_{t+1}|X_t,X_{t-1},\cdots,X_0) = \mathbb{P}(X_{t+1}|X_t).
$$

无记忆性.

使用Markovian模型随机作曲, 会由于其无记忆, 只能给出局部接近训练集旋律的音乐. 其改善可以通过改变为高阶Markovian chain 使得模型拥有相对较长的记忆. (1957. F. Brooks)

## 遗传算法

遗传算法模拟生物进化中的一串, 变异并找到最优解. 

遗传算法要对个体进行 **交叉(crossover)**, **变异(mutation)** 等操作, 使它们进化. 并且需要一个 **适应度函数(fitness function)**. 遗传算法不断迭代, 直到产生需要的进化结果或者达到预设的迭代次数.

### 编码

音级, 时值, 延长记号

通过编码把一段音乐映射为一组向量. 

### 进化操作

假定每个个体由两个小节构成. crossover 将会交换两个个体的一部分. 换言之

$$
Crossover(v_1, v_2) -> v_1', v_2'
$$

mutation 允许概率性的修改一个个体中的基因. 即随机改变一个向量中的若干分量. 

根据特定的判断标准, 允许一些个体不加改变地进入下一代. 

### 如何度量一段音乐的好坏

1.  根据音乐规律本身确定
2.  统计与人机交互
3.  机器学习

### 选择

轮盘赌算法: 

设种群有 N 个个体, 其适应度为 $f(i_k)$ . 那么个体l被选中的概率为

$$
p_l = \frac {f(i_l)} {\sum_{k=1}^N f(i_k)}
$$

## 机器学习, 音乐信息检索

音乐信息检索(MIR, Music Information Retrieval) 

一个重要问题是音乐流派分类(Music genre classification)

特征提取: MFCC(Mel-frequency Cepstrum Coefficient)

学习样本: GTZAN, MagnaTagATune Million Sound Database

## 从搜索到推送

### 推荐系统

基本问题: 如何根据用户行为推断用户画像, 为其提供合适的推荐.

1.  基于用户的协同过滤

    通过对用户记录的相似度分析, 使用其他用户的已知数据推断目标用户的未知数据.
    
    问题: 用户记录矩阵稀疏, 计算量大, 冷启动问题
2.  svd 分解.

音乐推荐系统的特殊性:

1.  流媒体音乐数量巨大
2.  用户数量巨大, 但极少有评价
3.  冷启动问题